<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#d1{
				width: 100px;
				height: 100px;
				background: skyblue;
				position: absolute;
				left: 80px;
				top: 100px;
				
			}
			#d2{
				width: 200px;
				height: 200px;
				background: orange;
				margin: 200px;
				
			}
		</style>
	</head>
	<body>
		<div id="d1"></div>
		<div id="d2"></div>
	</body>
</html>
<script type="text/javascript">
	var div1 = document.getElementById("d1");
	var div2 = document.getElementById("d2");
	div1.onmousedown = function(e){
		var e = e || event;
		var disx = e.pageX - div1.offsetLeft;
		var disy = e.pageY - div1.offsetTop;
		document.onmousemove = function(e){
			var e = e || event;
			div1.style.left = e.pageX - disx + 'px';
			div1.style.top = e.pageY - disy + 'px';
			if( pz(div1,div2) ){
				div2.style.backgroundColor = "royalblue";
			}else{
				div2.style.backgroundColor = "orange";
				
			}
			
		}
		document.onmouseup = function(){
			document.onmousemove = null;
		}
	}
	function pz(obj1,obj2){
		//第一个物体与第二个物体碰撞的临界值
		var L1 = obj1.offsetLeft;
		var R1 = obj1.offsetLeft + obj1.offsetWidth;
		var T1 = obj1.offsetTop;
		var B1 = obj1.offsetTop + obj1.offsetHeight;
		
		//第二个物体与第一个物体碰撞的临界值
		var L2 = obj2.offsetLeft;
		var R2 = obj2.offsetLeft + obj2.offsetWidth;
		var T2 = obj2.offsetTop;
		var B2 = obj2.offsetTop + obj2.offsetHeight;
		
		if( R1<L2||L1>R2||B1<T2||T1>B2 ){//碰不上的条件
			return false;
		}else{
			return true;
		}
		
		
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</script>